<!DOCTYPE html>
<html>
<head>
    <title>Drive Folder Viewer</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .file-list { margin-top: 20px; }
        .item { padding: 10px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>
    <h2>Daftar File di Folder Shared</h2>
    <div id="content" class="file-list">Loading...</div>

    <script>
        const API_KEY = 'AIzaSyDMaIumFceWoR_DGco4345MoIkO7BSG-PI';
        const FOLDER_ID = 'Umum';

        async function listFiles() {
            // Endpoint untuk list files dengan filter folder parent
            const url = `https://www.googleapis.com/drive/v3/files?q='${FOLDER_ID}'+in+parents+and+trashed=false&fields=files(id,name,mimeType)&key=${API_KEY}`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                if (data.files && data.files.length > 0) {
                    let html = '';
                    data.files.forEach(file => {
                        html += `<div class="item">
                                    <strong>${file.name}</strong> (${file.mimeType}) <br>
                                    <small>ID: ${file.id}</small>
                                 </div>`;
                    });
                    document.getElementById('content').innerHTML = html;
                } else {
                    document.getElementById('content').innerHTML = 'Folder kosong atau tidak ditemukan.';
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('content').innerHTML = 'Gagal memuat data.';
            }
        }

        listFiles();
    </script>
</body>
</html>
